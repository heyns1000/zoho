# Cloudflare Workers Configuration for HSOMNI9000 API

name = "hsomni9000-api"
main = "api.js"
compatibility_date = "2024-01-01"

# R2 Bucket Binding
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "hsomni9000-vault"

# Environment Variables (set via wrangler secret)
# wrangler secret put API_TOKEN
# wrangler secret put ZOHO_ACCESS_TOKEN
# wrangler secret put ZOHO_FLOW_WEBHOOK_GOOGLE_DRIVE
# wrangler secret put ZOHO_FLOW_WEBHOOK_GITHUB
# wrangler secret put ZOHO_FLOW_WEBHOOK_ONEDRIVE

[env.production]
name = "hsomni9000-api"
route = "api.zoho.faa.zone/*"

[env.staging]
name = "hsomni9000-api-staging"
route = "api-staging.zoho.faa.zone/*"

# Variables (non-sensitive)
[vars]
ZOHO_CREATOR_API_URL = "https://creator.zoho.com/api/v2"

# Custom domains
[[routes]]
pattern = "api.zoho.faa.zone/*"
zone_name = "faa.zone"
